if($(document).ready(function(){document.querySelector(".search-input"),document.querySelector(".search-input__icon");var e,t,a=$(".action-dropdown .action-dropdown__icon");if($(".search-input__icon").on("click",function(){$(this).closest(".search-input").toggleClass("active")}),a&&a.click(function(){$(this).parent().toggleClass("active")}),$(".settings__menu-list").on("click",".settings__menu-text",function(){var e=$(this),t=e.closest(".settings__menu-item").siblings(),a=e.closest(".settings__menu-item"),i=e.closest(".settings__menu-text").next();e.closest(".settings__menu-item").siblings().find(".settings__menu-text").next().slideUp(function(){t.removeClass("settings__menu-item--active")}),i.slideToggle(function(){a.hasClass("settings__menu-item--active")?a.removeClass("settings__menu-item--active"):a.addClass("settings__menu-item--active")})}),$(".filter-toggler").on("click",function(){$(this).parent().toggleClass("active")}),0<$(".post-form__editor").length){new Quill(".post-form__editor");var i=document.getElementById("editor");new Quill(i),new Quill("#editor",{debug:"info",modules:{toolbar:"#toolbar"},placeholder:"ÐÐ°Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ ÑÑ‚Ð°Ñ‚ÑŒÑŽ",theme:"snow"})}jQuery.browser={},jQuery.browser.msie=!1,jQuery.browser.version=0,navigator.userAgent.match(/MSIE ([0-9]+)\./)&&(jQuery.browser.msie=!0,jQuery.browser.version=RegExp.$1),$.fn.TextAreaExpander=function(t,a){var s=!($.browser.msie||$.browser.opera);function i(e){var t=(e=e.target||e).value.length,a=e.offsetWidth;if(t!==e.valLength||a!==e.boxWidth){s&&(t<e.valLength||a!==e.boxWidth)&&(e.style.height="0px");var i=Math.max(e.expandMin,Math.min(e.scrollHeight,e.expandMax));e.style.overflow=e.scrollHeight>i?"auto":"hidden",e.style.height=i+"px",e.valLength=t,e.boxWidth=a}return!0}return this.each(function(){if("textarea"===this.nodeName.toLowerCase()){var e=this.className.match(/expand(\d+)\d-*(\d+)*/i);this.expandMin=t||(e?parseInt("0"+e[1],10):0),this.expandMax=a||(e?parseInt("0"+e[2],10):99999),i(this),this.Initialized||(this.Initialized=!0,$(this).css("padding-top",10).css("padding-bottom",10),$(this).bind("keyup",i).bind("focus",i))}}),this},$(".main-menu-toggler").click(function(){$(".main-sidebar ").addClass("active")}),$(".i-message").click(function(){$(".messages-w").toggleClass("active")}),$(".messages-w__close").click(function(){$(".messages-w").removeClass("active")}),$(".aside-menu-toggler button").click(function(){$(".categories-sidebar").parent().toggleClass("open-categories")}),$(".steps-menu-toggler").click(function(){$(".company-reg-sidebar").addClass("active")}),$(".reg-sidebar__close").click(function(){$(".company-reg-sidebar").removeClass("active")}),$(".chat-form-textarea").TextAreaExpander(45,200),$(".text-editor-title").TextAreaExpander(47,75),(e=$(".input-wrap input")).focus(function(){$(this).parent().addClass("active")}),e.blur(function(){""===$(this).val()&&$(this).parent().removeClass("active")}),e.each(function(){""!==$(this).val()&&$(this).parent().addClass("active")}),0<(t=$(".phone-number")).length&&t.inputmask({mask:"+\\9\\98(99) 999-99-99",showMaskOnHover:!1}),$(".chat-form-textarea").TextAreaExpander(45,200),$(".text-editor-title").TextAreaExpander(20,75),(e=$(".input-wrap input")).focus(function(){$(this).parent().addClass("active")}),e.blur(function(){""===$(this).val()&&$(this).parent().removeClass("active")}),e.each(function(){""!==$(this).val()&&$(this).parent().addClass("active")}),0<(t=$(".phone-number")).length&&t.inputmask({mask:"+\\9\\98(99) 999-99-99",showMaskOnHover:!1});$(".select2-ui").each(function(){var e=$(this).attr("data-placeholder");$(this).find("select").select2({placeholder:e})}),$(".feedback-card").click(function(){$(this).hasClass("active")?($(this).removeClass("active"),$(this).parent().parent().removeClass("active")):($(this).parent().parent().find(".feedback-card").removeClass("active"),$(this).parent().parent().addClass("active"),$(this).addClass("active"))});var n=document.getElementById("myLineChart");function o(e){e.fadeOut(200).removeClass("show"),$("body").removeClass("modal-open")}n&&(window.myLine=Chart.Line(n,{data:{responsive:!0,labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"ÐÐ¾Ð²Ñ‹Ðµ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ñ‹",borderColor:"#3dd598",backgroundColor:"#3dd598",fill:!1,data:[150,160,175,165,155,160,170,155,150,160,165,155],yAxisID:"y-axis-1"},{label:"Ð¡Ñ‚Ð°Ñ€Ñ‹Ðµ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ñ‹",borderColor:"#0062ff",backgroundColor:"#0062ff",fill:!1,data:[175,175,150,160,155,165,150,155,170,155,165,160],yAxisID:"y-axis-2"}]},options:{legend:{display:!1},maintainAspectRatio:!1,responsive:!0,hoverMode:"index",stacked:!1,title:{display:!1,text:"Chart.js Line Chart - Multi Axis"},scales:{yAxes:[{type:"linear",display:!0,position:"left",id:"y-axis-1",ticks:{min:0,max:300,beginAtZero:!0},gridLines:{display:!1}},{type:"linear",display:!1,position:"right",id:"y-axis-2",min:0,max:350,ticks:{min:0,max:300,beginAtZero:!0},gridLines:{drawOnChartArea:!1}}]}}})),$(".dropdown-ui__head").click(function(){$(this).parent().toggleClass("dropdown-ui--open")}),$('.t-head .col-action input[type="checkbox"]').on("change",function(){$(this).prop("checked")?$('.table-ui tbody .col-action input[type="checkbox"]').each(function(){$(this).prop("checked",!0)}):$('.table-ui tbody .col-action input[type="checkbox"]').each(function(){$(this).prop("checked",!1)})}),$("[data-modal]").click(function(e){e.preventDefault(),$("body").addClass("modal-open");var t=$(this).attr("data-modal");$("[data-modal-name = "+t+"]").fadeIn(200).addClass("show")}),$(".modal-ui").click(function(e){var t=$(this);"modal-ui show"===e.target.className&&o(t)}),$(".close-modal").click(function(){o($(this).closest(".modal-ui"))})}),0<$("#map").length){var initMap=function(){var e=new google.maps.LatLng(35.322372,67.019626),t=new google.maps.LatLng(35.322372,67.019626),a=new google.maps.Map(document.getElementById("map"),{center:e,zoom:6,gestureHandling:"cooperative",mapTypeControl:!1,fullscreenControl:!1,streetViewControl:!1});new google.maps.Marker({position:t,map:a,icon:{url:"../img/icons/placeholder.png",size:new google.maps.Size(80,80),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(40,40)}})};jQuery(function(e){var t=document.createElement("script");t.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC8Gbjrr2LaEpF1V1KPvSNn61xZjKWTbo8&callback=initMap",document.body.appendChild(t)})}$(".close-main-sidebar").click(function(){$(".main-sidebar").removeClass("active")}),$(".feedback-card").click(function(){$(".scrollable-column").addClass("active")}),$(".reviews-aside--rating .close-icon").click(function(){$(".scrollable-column").removeClass("active")});var datepickerField=$(".datepicker-field");datepickerField.length&&(datepickerField.datepicker().data("datepicker").selectDate(new Date),datepickerField.datepicker({language:"ru",dateFormat:"dd MM yyyy",startDate:new Date,autoClose:!0})),$(".overlay-scrollbar").overlayScrollbars({scrollbars:{autoHide:"move"}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyJkYXRlcGlja2VyRmllbGQiLCIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsInF1ZXJ5U2VsZWN0b3IiLCJzZWFyY2hJbnB1dFRvZ2dsZXIiLCJwaG9uZU51bWJlciIsImFjdGlvbkRyb3Bkb3duVG9nZ2xlIiwib24iLCIkdGhpcyIsImNsb3Nlc3QiLCJ0b2dnbGVDbGFzcyIsImNsaWNrIiwicGFyZW50Iiwic2libGluZ3MiLCJzZWxmSXRlbSIsIm1lbnVJdGVtcyIsInN1Ym1lbnUiLCJvdGhlclN1Ym1lbnVzIiwibmV4dCIsInNsaWRlVXAiLCJzbGlkZVRvZ2dsZSIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJRdWlsbCIsImNvbnRhaW5lciIsInRoaXMiLCJkZWJ1ZyIsImxlbmd0aCIsInBsYWNlaG9sZGVyIiwiZ2V0RWxlbWVudEJ5SWQiLCJlZGl0b3IiLCJqUXVlcnkiLCJicm93c2VyIiwibW9kdWxlcyIsIm5hdmlnYXRvciIsImhDaGVjayIsIm1zaWUiLCJSZXNpemVUZXh0YXJlYSIsInVzZXJBZ2VudCIsIm1hdGNoIiwiZSIsInRhcmdldCIsInZlcnNpb24iLCJSZWdFeHAiLCIkMSIsImZuIiwiVGV4dEFyZWFFeHBhbmRlciIsInZsZW4iLCJ2YWxMZW5ndGgiLCJld2lkdGgiLCJNYXRoIiwiZXhwYW5kTWluIiwibWluIiwic3R5bGUiLCJoIiwidmFsdWUiLCJvZmZzZXRXaWR0aCIsImJveFdpZHRoIiwiaGVpZ2h0IiwibWF4Iiwic2Nyb2xsSGVpZ2h0IiwiZXhwYW5kTWF4IiwiZWFjaCIsIm5vZGVOYW1lIiwiSW5pdGlhbGl6ZWQiLCJjbGFzc05hbWUiLCJtaW5IZWlnaHQiLCJwIiwicGFyc2VJbnQiLCJtYXhIZWlnaHQiLCJjc3MiLCJiaW5kIiwiaW5wdXQiLCJmb2N1cyIsIm1hc2siLCJ2YWwiLCJzaG93TWFza09uSG92ZXIiLCJpbnB1dG1hc2siLCJibHVyIiwiY29kZUlucHV0IiwiZmluZCIsImF0dHIiLCJsaW5lQ2hhcnREYXRhIiwicmVzcG9uc2l2ZSIsImZpbGwiLCJkYXRhIiwiaGFzQ2xhc3MiLCJ5QXhpc0lEIiwibGFiZWwiLCJib3JkZXJDb2xvciIsImJhY2tncm91bmRDb2xvciIsImN0eCIsIndpbmRvdyIsIm9wdGlvbnMiLCJjbG9zZU1vZGFsIiwiX3RoaXMiLCJmYWRlT3V0IiwibXlMaW5lIiwiQ2hhcnQiLCJMaW5lIiwiaG92ZXJNb2RlIiwic3RhY2tlZCIsInRpdGxlIiwiZGlzcGxheSIsInRleHQiLCJzY2FsZXMiLCJ5QXhlcyIsInR5cGUiLCJwb3NpdGlvbiIsImlkIiwidGlja3MiLCJiZWdpbkF0WmVybyIsImdyaWRMaW5lcyIsImxlZ2VuZCIsIm1haW50YWluQXNwZWN0UmF0aW8iLCJwcm9wIiwicHJldmVudERlZmF1bHQiLCJtYXBzIiwiTWFwIiwiY2VudGVyIiwiem9vbSIsImdlc3R1cmVIYW5kbGluZyIsInN0cmVldFZpZXdDb250cm9sIiwibWFwIiwiaWNvbiIsInNjcmlwdCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImZhZGVJbiIsImRhdGVwaWNrZXIiLCJsYW5ndWFnZSIsImRhdGVGb3JtYXQiLCJnb29nbGUiLCJMYXRMbmciLCJzdGFydERhdGUiLCJEYXRlIiwibWFwVHlwZUNvbnRyb2wiLCJmdWxsc2NyZWVuQ29udHJvbCIsIm92ZXJsYXlTY3JvbGxiYXJzIiwic2Nyb2xsYmFycyIsIk1hcmtlciIsImxvY2F0aW9uMSIsInVybCIsInNpemUiLCJTaXplIiwib3JpZ2luIiwiUG9pbnQiLCJhbmNob3IiLCJjcmVhdGVFbGVtZW50Iiwic3JjIiwic2VsZWN0RGF0ZSIsImF1dG9DbG9zZSIsImF1dG9IaWRlIl0sIm1hcHBpbmdzIjoiQUFpY0VBLEdBamNGQyxFQUFFQyxVQUFVQyxNQUFNLFdBQ0VELFNBQVNFLGNBQWMsaUJBQ3ZDQyxTQUFxQkgsY0FBU0UsdUJBRGhDLElBbU5BRSxFQWVFQSxFQWhPSkMsRUFBSUEsRUFBdUJOLDJDQWdFaEIsR0FyRFRBLEVBQUFBLHVCQUFBTyxHQUF5QkEsUUFBekIsV0FDTUMsRUFBUVIsTUFFWlEsUUFBTUMsaUJBQU5DLFlBQStCQSxZQUluQ0osR0FDRUEsRUFBQUEsTUFBcUJLLFdBQ25CWCxFQUFBQSxNQURGWSxTQUtERixZQUFBLFlBSUdWLEVBQUEsd0JBQ29CUyxHQUFBQSxRQUFRLHVCQUF3QkksV0FEcEQsSUFBQUwsRUFFRU0sRUFBQUEsTUFGRkMsRUFHRUMsRUFBVVIsUUFBTUMsd0JBQU5JLFdBSFpDLEVBSUVHLEVBQUFBLFFBQWdCVCx3QkFEaEJRLEVBQVVSLEVBQU1DLFFBQVEsd0JBQXdCUyxPQU9wQ0MsRUFDWkosUUFBQUEsd0JBREZGLFdBR0FHLEtBQVFJLHdCQUNOTixPQWZKSyxRQUFBLFdBREZKLEVBQUFNLFlBQUEsaUNBdUJFTCxFQUFBSSxZQUFtQmIsV0FDakJPLEVBQ0NGLFNBQ0FGLCtCQUhMSSxFQUFBTyxZQUFBLCtCQUtBUCxFQUFBUSxTQUFBLG1DQUtDdEIsRUFBQSxtQkFBaUJ1QixHQUFBQSxRQUFNQyxXQVR0QnhCLEVBQUV5QixNQVlIYixTQUNDYyxZQUFPLFlBRE0sRUFFSjFCLEVBRkksc0JBQUEyQixPQUtiQyxDQUFBQSxJQUFBQSxNQUFhLHNCQUFiQSxJQUxESixFQUFBdkIsU0FBQTRCLGVBQUEsVUFRSUMsSUFBU1AsTUFBSUEsR0FZaEIsSUFBQUEsTUFBQSxVQVJGLENBQ0VRLE1BQU9DLE9BQ1RDLFFBQUMsQ0FDQUYsUUFBT0MsWUFFUEosWUFBSU0sa0JBQ0hILE1BQUFBLFNBT0RBLE9BQUlJLFFBQVduQyxHQUVmK0IsT0FBQUMsUUFBQUksTUFBQSxFQUNBTCxPQUFBQyxRQUFTSyxRQUFBQSxFQUNSSCxVQUFBSSxVQUFBQyxNQUFBLHFCQUNBQyxPQUFBQSxRQUFNQyxNQUFOLEVBWEFWLE9BQU9DLFFBQVFVLFFBQVVDLE9BQU9DLElBZ0IvQjVDLEVBQUE2QyxHQUFBQyxpQkFBZUMsU0FBU0MsRUFBYUMsR0FDckMsSUFBQWQsSUFBUWUsRUFBQUEsUUFBU1YsTUFBRVcsRUFBWG5CLFFBQTJCb0IsT0FHbkNaLFNBQUVhLEVBQWVDLEdBTmxCLElBQUlQLEdBUUhQLEVBQUFBLEVBQUFBLFFBQUVRLEdBUlVPLE1BQU01QixPQUFRc0IsRUFBU1QsRUFBRWdCLFlBWXRDLEdBQUFULElBQU9QLEVBQVBRLFdBQUFDLElBQUFULEVBQUFpQixTQUFBLENBQ0F0QixJQUFBWSxFQUFBUCxFQUFBUSxXQUFBQyxJQUFBVCxFQUFBaUIsWUFBQWpCLEVBQUFhLE1BQUFLLE9BQUEsT0FWQyxJQUFJSixFQUFJSixLQUFLUyxJQUFJbkIsRUFBRVcsVUFBV0QsS0FBS0UsSUFBSVosRUFBRW9CLGFBQWNwQixFQUFFcUIsWUFhM0RyQixFQUFBYSxNQUFLUyxTQUFLdEIsRUFBQW9CLGFBQVlOLEVBQUEsT0FBQSxTQUNyQmQsRUFBQWEsTUFBQUssT0FBQUosRUFBQSxLQVRDZCxFQUFFUSxVQUFZRCxFQVlmUCxFQUFBaUIsU0FBQVIsRUFHQSxPQUFBLEVBd0JFakQsT0EvQkh5QixLQUFLcUMsS0FBSyxXQWFULEdBQXVCLGFBQXZCckMsS0FBS3NDLFNBQUtDLGNBQVYsQ0FHQ2hFLElBQUFBLEVBQUV5QixLQUFGd0MsVUFBYTFCLE1BQVNGLDBCQUN0QlosS0FBQTBCLFVBQUFlLElBQUFDLEVBQUFDLFNBQUEsSUFBQUQsRUFBQSxHQUFBLElBQUEsR0FDRDFDLEtBbEJEb0MsVUFBQVEsSUFBQUYsRUFBQUMsU0FBQSxJQUFBRCxFQUFBLEdBQUEsSUFBQSxPQXFCQTlCLEVBQUNaLE1BR0lBLEtBQUF1QyxjQURKdkMsS0FBQXVDLGFBQUEsRUFSQ2hFLEVBQUV5QixNQUFNNkMsSUFBSSxjQUFlLElBQUlBLElBQUksaUJBQWtCLElBWXREdEUsRUFBRXlCLE1BQUE4QyxLQUFGLFFBQXNCbEMsR0FBV2tDLEtBQUEsUUFBQWxDLE9BSTdCWixNQUdMekIsRUFBRSxzQkFBQVcsTUFBRixXQUNDWCxFQUFFLGtCQUFBc0IsU0FBdUJWLFlBR3pCWixFQUFFLGNBQUFXLE1BQUEsV0FDQVgsRUFBRSxlQUFBVSxZQUF3QlksWUFUNUJ0QixFQUFFLHNCQUFzQlcsTUFBTSxXQVk1QlgsRUFBQSxlQUFBcUIsWUFBNkIsWUFSaENyQixFQUFFLDhCQUE4QlcsTUFBTSxXQVlyQ1gsRUFBRSx1QkFBdUI4QyxTQUFBQSxZQUFxQixxQkFHOUM5QyxFQUFBLHVCQUFjVyxNQUFBLFdBQ2Q2RCxFQUFBQSx3QkFBdUJsRCxTQUFBLFlBS3ZCa0QsRUFBQUEsdUJBQXNCN0QsTUFBQSxXQUNwQlgsRUFBQSx3QkFBMEJxQixZQUFBLFlBSzNCckIsRUFORCx1QkFBQThDLGlCQUFBLEdBQUEsS0FPQTBCLEVBQUFBLHNCQUFzQjFCLGlCQUFBLEdBQUEsS0FFbEI5QyxFQUNHWSxFQUFBQSxzQkFFSjZELE1BQUEsV0FMSHpFLEVBQUF5QixNQU9BYixTQUNJUCxTQUFBQSxZQUVGQSxFQUFBQSxLQUFBQSxXQUNRLEtBQU5xRSxFQUFBQSxNQUFNQyxPQUNOQyxFQUFBQSxNQUZGaEUsU0FJRFMsWUFBQSxZQUdGckIsRUFBRThELEtBQUEsV0FDRixLQUFBOUQsRUFBQXlCLE1BQUFrRCxPQUNJSCxFQUFBQSxNQUNFQyxTQUNIbkQsU0FBRixZQUtDLEdBREF0QixFQUFBQSxFQUFBLGtCQUNBMkIsUUFIRnRCLEVBQUF3RSxVQUFBLENBS0FMLEtBQUEseUJBQ0NJLGlCQUFJLElBSUw1RSxFQUFBLHVCQUFBOEMsaUJBQUEsR0FBQSxLQUNBOUMsRUFBQSxzQkFBb0I4QyxpQkFBcEIsR0FBQSxLQUVDekMsRUFBQUEsRUFBQUEsc0JBQ0NxRSxNQUFNLFdBQ05FLEVBQUFBLE1BQUFBLFNBQUFBLFNBQWlCLFlBRWxCSixFQUFBTSxLQUFBLFdBaEJzQixLQUFsQjlFLEVBQUV5QixNQUFNa0QsT0FrQlozRSxFQUFBeUIsTUFBSXNELFNBQWMxRCxZQUFBLFlBR2RxRCxFQUFBQSxLQUFNLFdBQ1csS0FBakJFLEVBQUFBLE1BQUFBLE9BQ0FoRCxFQUFBQSxNQUFBQSxTQUFhTixTQUFBLFlBS0ssR0FEcEJqQixFQUFleUQsRUFBQUEsa0JBQ1hsQyxRQUNKNUIsRUFDR2dGLFVBQUssQ0FFSnBELEtBQUFBLHlCQURPZ0QsaUJBRlgsSUFYRixJQUFJRyxFQUFZL0UsRUFBRSxlQW9CRVcsRUFBbEJvRSxFQUFBcEQsUUFDQW9ELEVBQUlGLFVBQUEsQ0FDRjdFLEtBQUEsa0JBQ0FBLGlCQUVHWSxFQUpMZ0IsWUFNTyxLQVdONUIsRUFBQSxlQUFBOEQsS0FBQSxXQWxCSCxJQUFBbEMsRUFBQTVCLEVBQUF5QixNQUFBd0QsS0FBQSxvQkFURWpGLEVBQUV5QixNQThCSnVELEtBQUEsVUFDSUUsUUFBQUEsQ0FDRkMsWUFEa0J2RCxNQXFCZHdELEVBQUFBLGtCQUpGekUsTUFBQSxXQUtFMEUsRUFBQUEsTUFBTUMsU0FBVyxXQUNqQkMsRUFBQUEsTUFBQUEsWUFBUyxVQVBIdkYsRUFTUnlCLE1BQ0UrRCxTQUNBQyxTQUNBQyxZQUFBQSxZQUVBTCxFQUFBQSxNQUNBRSxTQWZNM0UsU0FoQlpvRSxLQUFBLGtCQVZPM0QsWUFBWSxVQThDZnNFLEVBQUFBLE1BQ0ovRSxTQUNFZ0YsU0FDRVAsU0FBTUgsVUFDTlcsRUFBQUEsTUFBQUEsU0FBUyxhQUtQVixJQW9DaUJRLEVBQUExRixTQUFBNEIsZUFBQSxlQTJGdkIsU0FBQWlFLEVBQUFDLEdBQ0VBLEVBQUFDLFFBQUEsS0FBaUIzRSxZQUFZLFFBRGpDckIsRUFBQSxRQUFBcUIsWUFBQSxjQXhHWXNFLElBaEJJQyxPQUFBSyxPQUFBQyxNQUFBQyxLQUFBUixFQUFBLENBWkROLEtBS0ssQ0FDWmUsWUFBQUEsRUFDQUMsT0FBQUEsQ0FDQUMsTUFDRUMsTUFDQUMsTUFGSyxNQUlQQyxNQUNFQyxNQUVJQyxNQUNBSixNQUNBSyxNQUNBQyxNQUNBQyxNQUNFMUQsT0FFQTJELFNBQUFBLENBSEssQ0FLUEMsTUFBQUEsZ0JBQ0VULFlBQUFBLFVBRFNiLGdCQUFBLFVBVmJOLE1BY0EsRUFDRXVCLEtBQUFBLENBQUFBLElBQU0sSUFBQSxJQUFVLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxLQUNoQkosUUFBQUEsWUFFQU0sQ0FDQXpELE1BQUFBLGlCQUNBTyxZQU5GLFVBT0VtRCxnQkFBTyxVQUNMMUQsTUFBQUEsRUFDQU8sS0FBQUEsQ0FBQUEsSUFBSyxJQUZBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLEtBR0xvRCxRQUFBQSxjQXhDWmxCLFFBQUEsQ0FtRERvQixPQUFBLENBL0NPVixTQUFTLEdBa0RmVyxxQkFBc0J2RyxFQUNwQndFLFlBQUYsRUFERmlCLFVBQUEsUUE3Q01DLFNBQVMsRUFtRGJDLE1BQUEsQ0FDTUMsU0FBTVksRUFDUlgsS0FBQSxvQ0FBRkMsT0FBQSxDQURGQyxNQUlPLENBQ0gsQ0FDQUMsS0FBQSxTQURGSixTQUFBLEVBR0RLLFNBQUEsT0FUSEMsR0FBQSxXQXZDWUMsTUFBTyxDQW1EbkIxRCxJQUFBLEVBakRjTyxJQUFLLElBQ0xvRCxhQUFhLEdBb0R2QkssVUFBRixDQUNBYixTQUFBLElBR0F2RyxDQUxGMkcsS0FBQSxTQTNDWUosU0FBUyxFQW1EWlQsU0FBV0MsUUFDWkMsR0FBUSxXQUNKM0UsSUFBQUEsRUFDWHNDLElBQUEsSUFDQ21ELE1BQWFuRyxDQUNEWCxJQUFFLEVBQ1gyRCxJQUFTTSxJQUNWNkIsYUFBQSxHQUdGa0IsVUFBRixDQUNjaEgsaUJBQWdCLFVBVTVCQSxFQUFBLHNCQUFxQnFILE1BQUtDLFdBQ3hCQyxFQUFBQSxNQUNBQyxTQUNBQyxZQUFBQSx1QkFHQUMsRUFBQUEsOENBQW1CbkgsR0FBQSxTQUFBLFdBQ25CUCxFQUFBeUIsTUFBQTBGLEtBQUEsV0FQRm5ILEVBQUEsc0RBQUE4RCxLQUFBLFdBekNJOUQsRUFBRXlCLE1BQU0wRixLQUFLLFdBQVcsS0FxRDFCUSxFQUFBQSxzREFGcUI3RCxLQUFBLFdBR3JCOEQsRUFBQUEsTUFBTVQsS0FBQSxXQUFBLE9BMUNWbkgsRUFBRSxnQkFBZ0JXLE1BQU0sU0FBVTZCLEdBbURsQ1QsRUFBQUEsaUJBRUU4RixFQUFBQSxRQUFBdkcsU0FDRSxjQUNGckIsSUFBQUEsRUFBUzZILEVBQUtDLE1BQUFBLEtBQWQsY0FKRi9ILEVBQUFBLHNCQUFBdUQsRUFBQSxLQUFBeUUsT0FBQSxLQUFBMUcsU0FBQSxVQVlBdEIsRUFBQSxhQUFBVyxNQUFrQkEsU0FBTTZCLEdBQ3RCLElBQUF1RCxFQUFBL0YsRUFBQXlCLE1BREosa0JBQUFlLEVBQUFDLE9BQUF3QixXQWhETTZCLEVBQVdDLEtBb0RqQi9GLEVBQUEsZ0JBQUFXLE1BQUEsV0FLSVosRUFyRFlDLEVBQUV5QixNQUFNaEIsUUFBUSxrQkF5RGR3SCxFQUFoQmxJLEVBQUFBLFFBQUFBLE9BQWdCa0ksQ0FBQUEsSUFDZEMsUUFBQUEsV0FDQUMsSUFBQUEsRUFBWSxJQUFBQyxPQUZhZixLQUFBZ0IsT0FBQSxVQUFBLFdBR3pCQyxFQUFXLElBQUlDLE9BSFVsQixLQUFBZ0IsT0FBQSxVQUFBLFdBQTNCVixFQUFBLElBQUFTLE9BQUFmLEtBQUFDLElBQUFySCxTQUFBNEIsZUFBQSxPQUFBLENBT0QwRixPQUFBQSxFQXBES0MsS0FBTSxFQXNEWkMsZ0JBQUEsY0FwRE1lLGdCQUFnQixFQXNEcEJDLG1CQUFzQkMsRUFDdEJDLG1CQUFZLElBakRWLElBQUlQLE9BQU9mLEtBQUt1QixPQUFPLENBc0QzQmhDLFNBQUFpQyxFQXBETWxCLElBQUtBLEVBc0RYQyxLQUFBLENBQ0FrQixJQUFBLCtCQUNBQyxLQUFBLElBQUFYLE9BQUFmLEtBQUEyQixLQUFBLEdBQUEsSUFDQUMsT0FBQSxJQUFBYixPQUFBZixLQUFBNkIsTUFBQSxFQUFBLEdBQ0FDLE9BQUEsSUFBQWYsT0FBQWYsS0FBQTZCLE1BQUEsR0FBQSxRQUtBbkgsT0FBQSxTQUFBL0IsR0FDQSxJQUFBNkgsRUFBQTVILFNBQUFtSixjQUFBLFVBQ0F2QixFQUFBd0IsSUFDQSx1R0FDQXBKLFNBQUE2SCxLQUFBQyxZQUFBRixLQUlBN0gsRUFBQSx1QkFBQVcsTUFBQSxXQXBERVgsRUFBRSxpQkFBaUJxQixZQUFZLFlBR2pDckIsRUFBRSxrQkFBa0JXLE1BQU0sV0FDeEJYLEVBQUUsc0JBQXNCc0IsU0FBUyxZQUduQ3RCLEVBQUUsc0NBQXNDVyxNQUFNLFdBQzVDWCxFQUFFLHNCQUFzQnFCLFlBQVksWUFJdEMsSUFBSXRCLGdCQUFrQkMsRUFBRSxxQkFDcEJELGdCQUFnQjRCLFNBRWxCNUIsZ0JBQWdCa0ksYUFBYTVDLEtBQUssY0FBY2lFLFdBQVcsSUFBSWYsTUFDL0R4SSxnQkFBZ0JrSSxXQUFXLENBQ3pCQyxTQUFVLEtBQ1ZDLFdBQVksYUFDWkcsVUFBVyxJQUFJQyxLQUNmZ0IsV0FBVyxLQU9mdkosRUFBRSxzQkFBc0IwSSxrQkFBa0IsQ0FDeENDLFdBQVksQ0FDVmEsU0FBVSIsImZpbGUiOiJjb21tb24ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gIHZhciBzZWFyY2hJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VhcmNoLWlucHV0XCIpO1xudmFyIHNlYXJjaElucHV0VG9nZ2xlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VhcmNoLWlucHV0X19pY29uXCIpO1xudmFyIGFjdGlvbkRyb3Bkb3duVG9nZ2xlID0gJChcIi5hY3Rpb24tZHJvcGRvd24gLmFjdGlvbi1kcm9wZG93bl9faWNvblwiKTtcblxuLy8gaWYgKHNlYXJjaElucHV0KSB7XG4vLyAgIHNlYXJjaElucHV0VG9nZ2xlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuLy8gICAgIHZhciBzZWFyY2hJbnB1dEZvY3VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWFyY2gtaW5wdXRfX2lucHV0XCIpO1xuLy8gICAgIHNlYXJjaElucHV0Rm9jdXMuZm9jdXMoKTtcbi8vICAgICBzZWFyY2hJbnB1dC5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpO1xuLy8gICB9KTtcbi8vIH1cblxuKGZ1bmN0aW9uKCkge1xuICAkKFwiLnNlYXJjaC1pbnB1dF9faWNvblwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG5cbiAgICAkdGhpcy5jbG9zZXN0KFwiLnNlYXJjaC1pbnB1dFwiKS50b2dnbGVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgfSk7XG59KSgpO1xuXG5pZiAoYWN0aW9uRHJvcGRvd25Ub2dnbGUpIHtcbiAgYWN0aW9uRHJvcGRvd25Ub2dnbGUuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgJCh0aGlzKVxuICAgICAgLnBhcmVudCgpXG4gICAgICAudG9nZ2xlQ2xhc3MoXCJhY3RpdmVcIik7XG4gIH0pO1xufVxuXG4oZnVuY3Rpb24oKSB7XG4gICQoXCIuc2V0dGluZ3NfX21lbnUtbGlzdFwiKS5vbihcImNsaWNrXCIsIFwiLnNldHRpbmdzX19tZW51LXRleHRcIiwgZnVuY3Rpb24oKSB7XG4gICAgbGV0ICR0aGlzID0gJCh0aGlzKSxcbiAgICAgIG1lbnVJdGVtcyA9ICR0aGlzLmNsb3Nlc3QoXCIuc2V0dGluZ3NfX21lbnUtaXRlbVwiKS5zaWJsaW5ncygpLFxuICAgICAgc2VsZkl0ZW0gPSAkdGhpcy5jbG9zZXN0KFwiLnNldHRpbmdzX19tZW51LWl0ZW1cIiksXG4gICAgICBzdWJtZW51ID0gJHRoaXMuY2xvc2VzdChcIi5zZXR0aW5nc19fbWVudS10ZXh0XCIpLm5leHQoKSxcbiAgICAgIG90aGVyU3VibWVudXMgPSAkdGhpc1xuICAgICAgICAuY2xvc2VzdChcIi5zZXR0aW5nc19fbWVudS1pdGVtXCIpXG4gICAgICAgIC5zaWJsaW5ncygpXG4gICAgICAgIC5maW5kKFwiLnNldHRpbmdzX19tZW51LXRleHRcIilcbiAgICAgICAgLm5leHQoKTtcblxuICAgIG90aGVyU3VibWVudXMuc2xpZGVVcChmdW5jdGlvbigpIHtcbiAgICAgIG1lbnVJdGVtcy5yZW1vdmVDbGFzcyhcInNldHRpbmdzX19tZW51LWl0ZW0tLWFjdGl2ZVwiKTtcbiAgICB9KTtcbiAgICBzdWJtZW51LnNsaWRlVG9nZ2xlKGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZkl0ZW0uaGFzQ2xhc3MoXCJzZXR0aW5nc19fbWVudS1pdGVtLS1hY3RpdmVcIilcbiAgICAgICAgPyBzZWxmSXRlbS5yZW1vdmVDbGFzcyhcInNldHRpbmdzX19tZW51LWl0ZW0tLWFjdGl2ZVwiKVxuICAgICAgICA6IHNlbGZJdGVtLmFkZENsYXNzKFwic2V0dGluZ3NfX21lbnUtaXRlbS0tYWN0aXZlXCIpO1xuICAgIH0pO1xuICB9KTtcbn0pKCk7XG5cbiQoXCIuZmlsdGVyLXRvZ2dsZXJcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgJCh0aGlzKVxuICAgIC5wYXJlbnQoKVxuICAgIC50b2dnbGVDbGFzcyhcImFjdGl2ZVwiKTtcbn0pO1xuO1xuICBpZigkKCcucG9zdC1mb3JtX19lZGl0b3InKS5sZW5ndGggPiAwKXtcblx0dmFyIGVkaXRvciA9IG5ldyBRdWlsbCgnLnBvc3QtZm9ybV9fZWRpdG9yJyk7ICAvLyBGaXJzdCBtYXRjaGluZyBlbGVtZW50IHdpbGwgYmUgdXNlZFxuXG5cdHZhciBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdG9yJyk7XG5cdHZhciBlZGl0b3IgPSBuZXcgUXVpbGwoY29udGFpbmVyKTtcblxuXG5cdHZhciBvcHRpb25zID0ge1xuXHRcdGRlYnVnOiAnaW5mbycsXG5cdFx0bW9kdWxlczoge1xuXHRcdFx0dG9vbGJhcjogJyN0b29sYmFyJ1xuXHRcdH0sXG5cdFx0cGxhY2Vob2xkZXI6ICfQndCw0L/QuNGI0LjRgtC1INGB0YLQsNGC0YzRjicsXG5cdFx0dGhlbWU6ICdzbm93J1xuXHR9O1xuXHR2YXIgZWRpdG9yID0gbmV3IFF1aWxsKCcjZWRpdG9yJywgb3B0aW9ucyk7XG59XG5cblxuO1xuICBqUXVlcnkuYnJvd3NlciA9IHt9O1xuKGZ1bmN0aW9uICgpIHtcblx0alF1ZXJ5LmJyb3dzZXIubXNpZSA9IGZhbHNlO1xuXHRqUXVlcnkuYnJvd3Nlci52ZXJzaW9uID0gMDtcblx0aWYgKG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL01TSUUgKFswLTldKylcXC4vKSkge1xuXHRcdGpRdWVyeS5icm93c2VyLm1zaWUgPSB0cnVlO1xuXHRcdGpRdWVyeS5icm93c2VyLnZlcnNpb24gPSBSZWdFeHAuJDE7XG5cdH1cbn0pKCk7XG5cbi8vIGpRdWVyeSBwbHVnaW4gZGVmaW5pdGlvblxuJC5mbi5UZXh0QXJlYUV4cGFuZGVyID0gZnVuY3Rpb24gKG1pbkhlaWdodCwgbWF4SGVpZ2h0KSB7XG5cdHZhciBoQ2hlY2sgPSAhKCQuYnJvd3Nlci5tc2llIHx8ICQuYnJvd3Nlci5vcGVyYSk7XG5cblx0Ly8gcmVzaXplIGEgdGV4dGFyZWFcblx0ZnVuY3Rpb24gUmVzaXplVGV4dGFyZWEgKGUpIHtcblx0XHQvLyBldmVudCBvciBpbml0aWFsaXplIGVsZW1lbnQ/XG5cdFx0ZSA9IGUudGFyZ2V0IHx8IGU7XG5cblx0XHQvLyBmaW5kIGNvbnRlbnQgbGVuZ3RoIGFuZCBib3ggd2lkdGhcblx0XHR2YXIgdmxlbiA9IGUudmFsdWUubGVuZ3RoLCBld2lkdGggPSBlLm9mZnNldFdpZHRoO1xuXHRcdGlmICh2bGVuICE9PSBlLnZhbExlbmd0aCB8fCBld2lkdGggIT09IGUuYm94V2lkdGgpIHtcblx0XHRcdGlmIChoQ2hlY2sgJiYgKHZsZW4gPCBlLnZhbExlbmd0aCB8fCBld2lkdGggIT09IGUuYm94V2lkdGgpKSBlLnN0eWxlLmhlaWdodCA9ICcwcHgnO1xuXHRcdFx0dmFyIGggPSBNYXRoLm1heChlLmV4cGFuZE1pbiwgTWF0aC5taW4oZS5zY3JvbGxIZWlnaHQsIGUuZXhwYW5kTWF4KSk7XG5cblx0XHRcdGUuc3R5bGUub3ZlcmZsb3cgPSAoZS5zY3JvbGxIZWlnaHQgPiBoID8gJ2F1dG8nIDogJ2hpZGRlbicpO1xuXHRcdFx0ZS5zdHlsZS5oZWlnaHQgPSBoICsgJ3B4JztcblxuXHRcdFx0ZS52YWxMZW5ndGggPSB2bGVuO1xuXHRcdFx0ZS5ib3hXaWR0aCA9IGV3aWR0aDtcblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdC8vIGluaXRpYWxpemVcblx0dGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcblx0XHQvLyBpcyBhIHRleHRhcmVhP1xuXHRcdGlmICh0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgIT09ICd0ZXh0YXJlYScpIHJldHVybjtcblxuXHRcdC8vIHNldCBoZWlnaHQgcmVzdHJpY3Rpb25zXG5cdFx0dmFyIHAgPSB0aGlzLmNsYXNzTmFtZS5tYXRjaCgvZXhwYW5kKFxcZCspXFxkLSooXFxkKykqL2kpO1xuXHRcdHRoaXMuZXhwYW5kTWluID0gbWluSGVpZ2h0IHx8IChwID8gcGFyc2VJbnQoJzAnICsgcFsxXSwgMTApIDogMCk7XG5cdFx0dGhpcy5leHBhbmRNYXggPSBtYXhIZWlnaHQgfHwgKHAgPyBwYXJzZUludCgnMCcgKyBwWzJdLCAxMCkgOiA5OTk5OSk7XG5cblx0XHQvLyBpbml0aWFsIHJlc2l6ZVxuXHRcdFJlc2l6ZVRleHRhcmVhKHRoaXMpO1xuXG5cdFx0Ly8gemVybyB2ZXJ0aWNhbCBwYWRkaW5nIGFuZCBhZGQgZXZlbnRzXG5cdFx0aWYgKCF0aGlzLkluaXRpYWxpemVkKSB7XG5cdFx0XHR0aGlzLkluaXRpYWxpemVkID0gdHJ1ZTtcblx0XHRcdCQodGhpcykuY3NzKCdwYWRkaW5nLXRvcCcsIDEwKS5jc3MoJ3BhZGRpbmctYm90dG9tJywgMTApO1xuXHRcdFx0JCh0aGlzKS5iaW5kKCdrZXl1cCcsIFJlc2l6ZVRleHRhcmVhKS5iaW5kKCdmb2N1cycsIFJlc2l6ZVRleHRhcmVhKTtcblx0XHR9XG5cdH0pO1xuXG5cdHJldHVybiB0aGlzO1xufTs7XG5cbiAgJChcIi5tYWluLW1lbnUtdG9nZ2xlclwiKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAkKFwiLm1haW4tc2lkZWJhciBcIikuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gIH0pO1xuXG4gICQoXCIuaS1tZXNzYWdlXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICQoXCIubWVzc2FnZXMtd1wiKS50b2dnbGVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgfSk7XG4gICQoXCIubWVzc2FnZXMtd19fY2xvc2VcIikuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgJChcIi5tZXNzYWdlcy13XCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICB9KTtcblxuXHQkKCcuYXNpZGUtbWVudS10b2dnbGVyIGJ1dHRvbicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcblx0XHQkKCcuY2F0ZWdvcmllcy1zaWRlYmFyJykucGFyZW50KCkudG9nZ2xlQ2xhc3MoJ29wZW4tY2F0ZWdvcmllcycpXG5cdH0pO1xuXG4gICQoXCIuc3RlcHMtbWVudS10b2dnbGVyXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICQoXCIuY29tcGFueS1yZWctc2lkZWJhclwiKS5hZGRDbGFzcyhcImFjdGl2ZVwiKVxuICB9KTtcblxuICAkKFwiLnJlZy1zaWRlYmFyX19jbG9zZVwiKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAkKFwiLmNvbXBhbnktcmVnLXNpZGViYXJcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIilcbiAgfSk7XG5cbiAgJChcIi5jaGF0LWZvcm0tdGV4dGFyZWFcIikuVGV4dEFyZWFFeHBhbmRlcig0NSwgMjAwKTtcbiAgJChcIi50ZXh0LWVkaXRvci10aXRsZVwiKS5UZXh0QXJlYUV4cGFuZGVyKDQ3LCA3NSk7XG4gIC8vIGlucHV0IGZpZWxkXG4gIHZhciBpbnB1dCA9ICQoXCIuaW5wdXQtd3JhcCBpbnB1dFwiKTtcbiAgaW5wdXQuZm9jdXMoZnVuY3Rpb24oKSB7XG4gICAgJCh0aGlzKVxuICAgICAgLnBhcmVudCgpXG4gICAgICAuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gIH0pO1xuICBpbnB1dC5ibHVyKGZ1bmN0aW9uKCkge1xuICAgIGlmICgkKHRoaXMpLnZhbCgpID09PSBcIlwiKSB7XG4gICAgICAkKHRoaXMpXG4gICAgICAgIC5wYXJlbnQoKVxuICAgICAgICAucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgfVxuICB9KTtcbiAgaW5wdXQuZWFjaChmdW5jdGlvbigpIHtcbiAgICBpZiAoJCh0aGlzKS52YWwoKSAhPT0gXCJcIikge1xuICAgICAgJCh0aGlzKVxuICAgICAgICAucGFyZW50KClcbiAgICAgICAgLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgIH1cbiAgfSk7XG4gIC8vIGlucHV0IG1hc2tcbiAgdmFyIHBob25lTnVtYmVyID0gJChcIi5waG9uZS1udW1iZXJcIik7XG4gIGlmIChwaG9uZU51bWJlci5sZW5ndGggPiAwKSB7XG4gICAgcGhvbmVOdW1iZXIuaW5wdXRtYXNrKHtcbiAgICAgIG1hc2s6IFwiK1xcXFw5XFxcXDk4KDk5KSA5OTktOTktOTlcIixcbiAgICAgIHNob3dNYXNrT25Ib3ZlcjogZmFsc2VcbiAgICB9KTtcbiAgfVxuXG5cdCQoJy5jaGF0LWZvcm0tdGV4dGFyZWEnKS5UZXh0QXJlYUV4cGFuZGVyKDQ1LCAyMDApO1xuXHQkKCcudGV4dC1lZGl0b3ItdGl0bGUnKS5UZXh0QXJlYUV4cGFuZGVyKDIwLCA3NSk7XG5cdC8vIGlucHV0IGZpZWxkXG5cdHZhciBpbnB1dCA9ICQoJy5pbnB1dC13cmFwIGlucHV0Jyk7XG5cdGlucHV0LmZvY3VzKGZ1bmN0aW9uICgpIHtcblx0XHQkKHRoaXMpLnBhcmVudCgpLmFkZENsYXNzKCdhY3RpdmUnKVxuXHR9KTtcblx0aW5wdXQuYmx1cihmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKCQodGhpcykudmFsKCkgPT09ICcnKSB7XG5cdFx0XHQkKHRoaXMpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuXHRcdH1cblx0fSk7XG5cdGlucHV0LmVhY2goZnVuY3Rpb24gKCkge1xuXHRcdGlmICgkKHRoaXMpLnZhbCgpICE9PSAnJykge1xuXHRcdFx0JCh0aGlzKS5wYXJlbnQoKS5hZGRDbGFzcygnYWN0aXZlJylcblx0XHR9XG5cdH0pO1xuXHQvLyBpbnB1dCBtYXNrXG5cdHZhciBwaG9uZU51bWJlciA9ICQoJy5waG9uZS1udW1iZXInKTtcblx0aWYgKHBob25lTnVtYmVyLmxlbmd0aCA+IDApIHtcblx0XHRwaG9uZU51bWJlci5pbnB1dG1hc2soe1xuXHRcdFx0bWFzazogJytcXFxcOVxcXFw5OCg5OSkgOTk5LTk5LTk5Jyxcblx0XHRcdHNob3dNYXNrT25Ib3ZlcjogZmFsc2Vcblx0XHR9KTtcblx0fVxuXG4gIHZhciBjb2RlSW5wdXQgPSAkKFwiLmNvZGUtaW5wdXRcIik7XG4gIGlmIChjb2RlSW5wdXQubGVuZ3RoID4gMCkge1xuICAgIGNvZGVJbnB1dC5pbnB1dG1hc2soe1xuICAgICAgbWFzazogXCI5OTkgOTk5IDk5OSA5OTlcIixcbiAgICAgIHNob3dNYXNrT25Ib3ZlcjogZmFsc2UsXG4gICAgICBwbGFjZWhvbGRlcjogXCJcIlxuICAgIH0pO1xuICB9XG4gIC8vIHNlbGVjdDIgaW5pdFxuICAkKFwiLnNlbGVjdDItdWlcIikuZWFjaChmdW5jdGlvbigpIHtcbiAgICBsZXQgcGxhY2Vob2xkZXIgPSAkKHRoaXMpLmF0dHIoXCJkYXRhLXBsYWNlaG9sZGVyXCIpO1xuICAgICQodGhpcylcbiAgICAgIC5maW5kKFwic2VsZWN0XCIpXG4gICAgICAuc2VsZWN0Mih7XG4gICAgICAgIHBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlclxuICAgICAgfSk7XG4gIH0pO1xuXG4gIC8vIHJldmlld3MgYmxvY2tcblxuICAkKFwiLmZlZWRiYWNrLWNhcmRcIikuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoXCJhY3RpdmVcIikpIHtcbiAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAkKHRoaXMpXG4gICAgICAgIC5wYXJlbnQoKVxuICAgICAgICAucGFyZW50KClcbiAgICAgICAgLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKHRoaXMpXG4gICAgICAgIC5wYXJlbnQoKVxuICAgICAgICAucGFyZW50KClcbiAgICAgICAgLmZpbmQoXCIuZmVlZGJhY2stY2FyZFwiKVxuICAgICAgICAucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAkKHRoaXMpXG4gICAgICAgIC5wYXJlbnQoKVxuICAgICAgICAucGFyZW50KClcbiAgICAgICAgLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgJCh0aGlzKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIGNoYXJ0XG4gIHZhciBsaW5lQ2hhcnREYXRhID0ge1xuICAgIHJlc3BvbnNpdmU6IHRydWUsXG4gICAgbGFiZWxzOiBbXG4gICAgICBcIkphblwiLFxuICAgICAgXCJGZWJcIixcbiAgICAgIFwiTWFyXCIsXG4gICAgICBcIkFwclwiLFxuICAgICAgXCJNYXlcIixcbiAgICAgIFwiSnVuXCIsXG4gICAgICBcIkp1bFwiLFxuICAgICAgXCJBdWdcIixcbiAgICAgIFwiU2VwXCIsXG4gICAgICBcIk9jdFwiLFxuICAgICAgXCJOb3ZcIixcbiAgICAgIFwiRGVjXCJcbiAgICBdLFxuICAgIGRhdGFzZXRzOiBbXG4gICAgICB7XG4gICAgICAgIGxhYmVsOiBcItCd0L7QstGL0LUg0LrQu9C40LXQvdGC0YtcIixcbiAgICAgICAgYm9yZGVyQ29sb3I6IFwiIzNkZDU5OFwiLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzNkZDU5OFwiLFxuICAgICAgICBmaWxsOiBmYWxzZSxcbiAgICAgICAgZGF0YTogWzE1MCwgMTYwLCAxNzUsIDE2NSwgMTU1LCAxNjAsIDE3MCwgMTU1LCAxNTAsIDE2MCwgMTY1LCAxNTVdLFxuICAgICAgICB5QXhpc0lEOiBcInktYXhpcy0xXCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGxhYmVsOiBcItCh0YLQsNGA0YvQtSDQutC70LjQtdC90YLRi1wiLFxuICAgICAgICBib3JkZXJDb2xvcjogXCIjMDA2MmZmXCIsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMDA2MmZmXCIsXG4gICAgICAgIGZpbGw6IGZhbHNlLFxuICAgICAgICBkYXRhOiBbMTc1LCAxNzUsIDE1MCwgMTYwLCAxNTUsIDE2NSwgMTUwLCAxNTUsIDE3MCwgMTU1LCAxNjUsIDE2MF0sXG4gICAgICAgIHlBeGlzSUQ6IFwieS1heGlzLTJcIlxuICAgICAgfVxuICAgIF1cbiAgfTtcblxuICB2YXIgY3R4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJteUxpbmVDaGFydFwiKTtcbiAgaWYgKGN0eCkge1xuICAgIHdpbmRvdy5teUxpbmUgPSBDaGFydC5MaW5lKGN0eCwge1xuICAgICAgZGF0YTogbGluZUNoYXJ0RGF0YSxcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgbGVnZW5kOiB7XG4gICAgICAgICAgZGlzcGxheTogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgbWFpbnRhaW5Bc3BlY3RSYXRpbzogZmFsc2UsXG4gICAgICAgIHJlc3BvbnNpdmU6IHRydWUsXG4gICAgICAgIGhvdmVyTW9kZTogXCJpbmRleFwiLFxuICAgICAgICBzdGFja2VkOiBmYWxzZSxcbiAgICAgICAgdGl0bGU6IHtcbiAgICAgICAgICBkaXNwbGF5OiBmYWxzZSxcbiAgICAgICAgICB0ZXh0OiBcIkNoYXJ0LmpzIExpbmUgQ2hhcnQgLSBNdWx0aSBBeGlzXCJcbiAgICAgICAgfSxcbiAgICAgICAgc2NhbGVzOiB7XG4gICAgICAgICAgeUF4ZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdHlwZTogXCJsaW5lYXJcIiwgLy8gb25seSBsaW5lYXIgYnV0IGFsbG93IHNjYWxlIHR5cGUgcmVnaXN0cmF0aW9uLiBUaGlzIGFsbG93cyBleHRlbnNpb25zIHRvIGV4aXN0IHNvbGVseSBmb3IgbG9nIHNjYWxlIGZvciBpbnN0YW5jZVxuICAgICAgICAgICAgICBkaXNwbGF5OiB0cnVlLFxuICAgICAgICAgICAgICBwb3NpdGlvbjogXCJsZWZ0XCIsXG4gICAgICAgICAgICAgIGlkOiBcInktYXhpcy0xXCIsXG4gICAgICAgICAgICAgIHRpY2tzOiB7XG4gICAgICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgICAgIG1heDogMzAwLFxuICAgICAgICAgICAgICAgIGJlZ2luQXRaZXJvOiB0cnVlXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGdyaWRMaW5lczoge1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZhbHNlXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHR5cGU6IFwibGluZWFyXCIsIC8vIG9ubHkgbGluZWFyIGJ1dCBhbGxvdyBzY2FsZSB0eXBlIHJlZ2lzdHJhdGlvbi4gVGhpcyBhbGxvd3MgZXh0ZW5zaW9ucyB0byBleGlzdCBzb2xlbHkgZm9yIGxvZyBzY2FsZSBmb3IgaW5zdGFuY2VcbiAgICAgICAgICAgICAgZGlzcGxheTogZmFsc2UsXG4gICAgICAgICAgICAgIHBvc2l0aW9uOiBcInJpZ2h0XCIsXG4gICAgICAgICAgICAgIGlkOiBcInktYXhpcy0yXCIsXG4gICAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgICAgbWF4OiAzNTAsXG4gICAgICAgICAgICAgIHRpY2tzOiB7XG4gICAgICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgICAgIG1heDogMzAwLFxuICAgICAgICAgICAgICAgIGJlZ2luQXRaZXJvOiB0cnVlXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIC8vIGdyaWQgbGluZSBzZXR0aW5nc1xuICAgICAgICAgICAgICBncmlkTGluZXM6IHtcbiAgICAgICAgICAgICAgICBkcmF3T25DaGFydEFyZWE6IGZhbHNlIC8vIG9ubHkgd2FudCB0aGUgZ3JpZCBsaW5lcyBmb3Igb25lIGF4aXMgdG8gc2hvdyB1cFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvL2Ryb3Bkb3duIHVpXG4gICQoXCIuZHJvcGRvd24tdWlfX2hlYWRcIikuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgJCh0aGlzKVxuICAgICAgLnBhcmVudCgpXG4gICAgICAudG9nZ2xlQ2xhc3MoXCJkcm9wZG93bi11aS0tb3BlblwiKTtcbiAgfSk7XG5cbiAgJCgnLnQtaGVhZCAuY29sLWFjdGlvbiBpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKS5vbihcImNoYW5nZVwiLCBmdW5jdGlvbigpIHtcbiAgICBpZiAoJCh0aGlzKS5wcm9wKFwiY2hlY2tlZFwiKSkge1xuICAgICAgJCgnLnRhYmxlLXVpIHRib2R5IC5jb2wtYWN0aW9uIGlucHV0W3R5cGU9XCJjaGVja2JveFwiXScpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICQodGhpcykucHJvcChcImNoZWNrZWRcIiwgdHJ1ZSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgJCgnLnRhYmxlLXVpIHRib2R5IC5jb2wtYWN0aW9uIGlucHV0W3R5cGU9XCJjaGVja2JveFwiXScpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICQodGhpcykucHJvcChcImNoZWNrZWRcIiwgZmFsc2UpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICAvL21hcFxuXG5cbiAgJCgnW2RhdGEtbW9kYWxdJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgLy8gJCgnLmJhY2tkcm9wLXVpJykuYWRkQ2xhc3MoJ3Nob3cnKTtcbiAgICAkKCdib2R5JykuYWRkQ2xhc3MoJ21vZGFsLW9wZW4nKTtcbiAgICB2YXIgdmFsdWUgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtbW9kYWwnKTtcbiAgICAkKGBbZGF0YS1tb2RhbC1uYW1lID0gJHt2YWx1ZX1dYCkuZmFkZUluKDIwMCkuYWRkQ2xhc3MoJ3Nob3cnKTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gY2xvc2VNb2RhbChfdGhpcyl7XG4gICAgX3RoaXMuZmFkZU91dCgyMDApLnJlbW92ZUNsYXNzKCdzaG93Jyk7XG4gICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCdtb2RhbC1vcGVuJyk7XG4gIH1cbiAgJCgnLm1vZGFsLXVpJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgX3RoaXMgPSAkKHRoaXMpO1xuICAgIGlmKGUudGFyZ2V0LmNsYXNzTmFtZSA9PT0gJ21vZGFsLXVpIHNob3cnKXtcbiAgICAgIGNsb3NlTW9kYWwoX3RoaXMpO1xuICAgIH1cbiAgfSk7XG4gICQoJy5jbG9zZS1tb2RhbCcpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSAkKHRoaXMpLmNsb3Nlc3QoJy5tb2RhbC11aScpO1xuICAgIGNsb3NlTW9kYWwoX3RoaXMpO1xuICB9KTtcbn0pO1xuXG5pZiAoJChcIiNtYXBcIikubGVuZ3RoID4gMCkge1xuICBmdW5jdGlvbiBpbml0TWFwKCkge1xuICAgIHZhciBjZW50ZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKDM1LjMyMjM3MiwgNjcuMDE5NjI2KSxcbiAgICAgIGxvY2F0aW9uMSA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmcoMzUuMzIyMzcyLCA2Ny4wMTk2MjYpO1xuXG4gICAgdmFyIG1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYXBcIiksIHtcbiAgICAgIGNlbnRlcjogY2VudGVyLFxuICAgICAgem9vbTogNixcbiAgICAgIGdlc3R1cmVIYW5kbGluZzogXCJjb29wZXJhdGl2ZVwiLFxuICAgICAgbWFwVHlwZUNvbnRyb2w6IGZhbHNlLFxuICAgICAgZnVsbHNjcmVlbkNvbnRyb2w6IGZhbHNlLFxuICAgICAgc3RyZWV0Vmlld0NvbnRyb2w6IGZhbHNlXG4gICAgICAvLyBzdHlsZXM6IFt7XCJlbGVtZW50VHlwZVwiOiBcImdlb21ldHJ5XCIsIFwic3R5bGVyc1wiOiBbIHsgXCJjb2xvclwiOiBcIiNmNWY1ZjVcIiB9IF19LCB7XCJlbGVtZW50VHlwZVwiOiBcImxhYmVscy5pY29uXCIsIFwic3R5bGVyc1wiOiBbIHsgXCJ2aXNpYmlsaXR5XCI6IFwib2ZmXCIgfSBdfSx7XCJlbGVtZW50VHlwZVwiOiBcImxhYmVscy50ZXh0LmZpbGxcIiwgXCJzdHlsZXJzXCI6IFsgeyBcImNvbG9yXCI6IFwiIzYxNjE2MVwiIH0gXX0se1wiZWxlbWVudFR5cGVcIjogXCJsYWJlbHMudGV4dC5zdHJva2VcIiwgXCJzdHlsZXJzXCI6IFsgeyBcImNvbG9yXCI6IFwiI2Y1ZjVmNVwiIH0gXX0se1wiZmVhdHVyZVR5cGVcIjogXCJhZG1pbmlzdHJhdGl2ZS5sYW5kX3BhcmNlbFwiLCBcImVsZW1lbnRUeXBlXCI6IFwibGFiZWxzLnRleHQuZmlsbFwiLCBcInN0eWxlcnNcIjogWyB7IFwiY29sb3JcIjogXCIjYmRiZGJkXCIgfSBdfSx7XCJmZWF0dXJlVHlwZVwiOiBcInBvaVwiLCBcImVsZW1lbnRUeXBlXCI6IFwiZ2VvbWV0cnlcIiwgXCJzdHlsZXJzXCI6IFsgeyBcImNvbG9yXCI6IFwiI2VlZWVlZVwiIH0gXX0se1wiZmVhdHVyZVR5cGVcIjogXCJwb2lcIiwgXCJlbGVtZW50VHlwZVwiOiBcImxhYmVscy50ZXh0LmZpbGxcIiwgXCJzdHlsZXJzXCI6IFsgeyBcImNvbG9yXCI6IFwiIzc1NzU3NVwiIH0gXX0se1wiZmVhdHVyZVR5cGVcIjogXCJwb2kucGFya1wiLCBcImVsZW1lbnRUeXBlXCI6IFwiZ2VvbWV0cnlcIiwgXCJzdHlsZXJzXCI6IFsgeyBcImNvbG9yXCI6IFwiI2U1ZTVlNVwiIH0gXX0se1wiZmVhdHVyZVR5cGVcIjogXCJwb2kucGFya1wiLCBcImVsZW1lbnRUeXBlXCI6IFwibGFiZWxzLnRleHQuZmlsbFwiLCBcInN0eWxlcnNcIjogWyB7IFwiY29sb3JcIjogXCIjOWU5ZTllXCIgfSBdfSx7XCJmZWF0dXJlVHlwZVwiOiBcInJvYWRcIiwgXCJlbGVtZW50VHlwZVwiOiBcImdlb21ldHJ5XCIsIFwic3R5bGVyc1wiOiBbIHsgXCJjb2xvclwiOiBcIiNmZmZmZmZcIiB9IF19LHtcImZlYXR1cmVUeXBlXCI6IFwicm9hZC5hcnRlcmlhbFwiLCBcImVsZW1lbnRUeXBlXCI6IFwibGFiZWxzLnRleHQuZmlsbFwiLCBcInN0eWxlcnNcIjogWyB7IFwiY29sb3JcIjogXCIjNzU3NTc1XCIgfSBdfSx7XCJmZWF0dXJlVHlwZVwiOiBcInJvYWQuaGlnaHdheVwiLCBcImVsZW1lbnRUeXBlXCI6IFwiZ2VvbWV0cnlcIiwgXCJzdHlsZXJzXCI6IFsgeyBcImNvbG9yXCI6IFwiI2RhZGFkYVwiIH0gXX0se1wiZmVhdHVyZVR5cGVcIjogXCJyb2FkLmhpZ2h3YXlcIiwgXCJlbGVtZW50VHlwZVwiOiBcImxhYmVscy50ZXh0LmZpbGxcIiwgXCJzdHlsZXJzXCI6IFsgeyBcImNvbG9yXCI6IFwiIzYxNjE2MVwiIH0gXX0se1wiZmVhdHVyZVR5cGVcIjogXCJyb2FkLmxvY2FsXCIsIFwiZWxlbWVudFR5cGVcIjogXCJsYWJlbHMudGV4dC5maWxsXCIsIFwic3R5bGVyc1wiOiBbIHsgXCJjb2xvclwiOiBcIiM5ZTllOWVcIiB9IF19LHtcImZlYXR1cmVUeXBlXCI6IFwidHJhbnNpdC5saW5lXCIsIFwiZWxlbWVudFR5cGVcIjogXCJnZW9tZXRyeVwiLCBcInN0eWxlcnNcIjogWyB7IFwiY29sb3JcIjogXCIjZTVlNWU1XCIgfSBdfSx7XCJmZWF0dXJlVHlwZVwiOiBcInRyYW5zaXQuc3RhdGlvblwiLCBcImVsZW1lbnRUeXBlXCI6IFwiZ2VvbWV0cnlcIiwgXCJzdHlsZXJzXCI6IFsgeyBcImNvbG9yXCI6IFwiI2VlZWVlZVwiIH0gXX0se1wiZmVhdHVyZVR5cGVcIjogXCJ3YXRlclwiLCBcImVsZW1lbnRUeXBlXCI6IFwiZ2VvbWV0cnlcIiwgXCJzdHlsZXJzXCI6IFsgeyBcImNvbG9yXCI6IFwiI2M5YzljOVwiIH0gXX0se1wiZmVhdHVyZVR5cGVcIjogXCJ3YXRlclwiLCBcImVsZW1lbnRUeXBlXCI6IFwibGFiZWxzLnRleHQuZmlsbFwiLCBcInN0eWxlcnNcIjogWyB7IFwiY29sb3JcIjogXCIjOWU5ZTllXCIgfSBdfSBdXG4gICAgfSk7XG5cbiAgICBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcbiAgICAgIHBvc2l0aW9uOiBsb2NhdGlvbjEsXG4gICAgICBtYXA6IG1hcCxcbiAgICAgIGljb246IHtcbiAgICAgICAgdXJsOiBcIi4uL2ltZy9pY29ucy9wbGFjZWhvbGRlci5wbmdcIixcbiAgICAgICAgc2l6ZTogbmV3IGdvb2dsZS5tYXBzLlNpemUoODAsIDgwKSwgLy9tYXJrZXIgaW1hZ2Ugc2l6ZVxuICAgICAgICBvcmlnaW46IG5ldyBnb29nbGUubWFwcy5Qb2ludCgwLCAwKSwgLy8gbWFya2VyIG9yaWdpblxuICAgICAgICBhbmNob3I6IG5ldyBnb29nbGUubWFwcy5Qb2ludCg0MCwgNDApIC8vIFgtYXhpcyB2YWx1ZSAoMzUsIGhhbGYgb2YgbWFya2VyIHdpZHRoKSBhbmQgODYgaXMgWS1heGlzIHZhbHVlIChoZWlnaHQgb2YgdGhlIG1hcmtlcikuXG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBqUXVlcnkoZnVuY3Rpb24oJCkge1xuICAgIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xuICAgIHNjcmlwdC5zcmMgPVxuICAgICAgXCJodHRwczovL21hcHMuZ29vZ2xlYXBpcy5jb20vbWFwcy9hcGkvanM/a2V5PUFJemFTeUM4R2JqcnIyTGFFcEYxVjFLUHZTTm42MXhaaktXVGJvOCZjYWxsYmFjaz1pbml0TWFwXCI7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICB9KTtcbn1cblxuJCgnLmNsb3NlLW1haW4tc2lkZWJhcicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgJCgnLm1haW4tc2lkZWJhcicpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxufSk7XG5cbiQoJy5mZWVkYmFjay1jYXJkJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAkKCcuc2Nyb2xsYWJsZS1jb2x1bW4nKS5hZGRDbGFzcygnYWN0aXZlJylcbn0pXG5cbiQoJy5yZXZpZXdzLWFzaWRlLS1yYXRpbmcgLmNsb3NlLWljb24nKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICQoJy5zY3JvbGxhYmxlLWNvbHVtbicpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxufSk7XG5cblxudmFyIGRhdGVwaWNrZXJGaWVsZCA9ICQoJy5kYXRlcGlja2VyLWZpZWxkJyk7XG5pZiAoZGF0ZXBpY2tlckZpZWxkLmxlbmd0aCkge1xuXG4gIGRhdGVwaWNrZXJGaWVsZC5kYXRlcGlja2VyKCkuZGF0YSgnZGF0ZXBpY2tlcicpLnNlbGVjdERhdGUobmV3IERhdGUoKSk7XG4gIGRhdGVwaWNrZXJGaWVsZC5kYXRlcGlja2VyKHtcbiAgICBsYW5ndWFnZTogXCJydVwiLFxuICAgIGRhdGVGb3JtYXQ6IFwiZGQgTU0geXl5eVwiLFxuICAgIHN0YXJ0RGF0ZTogbmV3IERhdGUoKSxcbiAgICBhdXRvQ2xvc2U6IHRydWVcbiAgfSk7XG5cbn1cblxuLy8gY3VzdG9tIHNjcm9sbGJhclxuXG4kKCcub3ZlcmxheS1zY3JvbGxiYXInKS5vdmVybGF5U2Nyb2xsYmFycyh7XG4gIHNjcm9sbGJhcnM6IHtcbiAgICBhdXRvSGlkZTogJ21vdmUnXG4gIH1cbn0pO1xuXG4vL0NsaWVudHMgdGFibGUgbW9iaWxlIHZlcnNpb24gcHJvZmlsZSByZXZlYWxcblxuLy8gKGZ1bmN0aW9uKCkge1xuLy8gICAkKFwiLmNsaWVudC1wcmYtYnRuXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4vLyAgICAgJChcIi5zY3JvbGxhYmxlLWNvbHVtbl9jbGllbnRzLWFzaWRlXCIpXG4vLyAgICAgICAuYWRkKCQodGhpcykpXG4vLyAgICAgICAudG9nZ2xlQ2xhc3MoXCJhY3RpdmVcIik7XG4vLyAgICAgJChkb2N1bWVudCkuYmluZChcImNsaWNrLm1haW4tcGFnZS13cmFwcGVyXCIsIGZ1bmN0aW9uKGUpIHtcbi8vICAgICAgIGlmICgkKGUudGFyZ2V0KS5jbG9zZXN0KFwiLmNsaWVudC1wcmYtYnRuXCIpLmxlbmd0aCA9PSAwKSB7XG4vLyAgICAgICAgICQoXCIuc2Nyb2xsYWJsZS1jb2x1bW5fY2xpZW50cy1hc2lkZVwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbi8vICAgICAgICAgJChcIi5jbGllbnQtcHJmLWJ0blwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbi8vICAgICAgICAgJChkb2N1bWVudCkudW5iaW5kKFwiY2xpY2subWFpbi1wYWdlLXdyYXBwZXJcIik7XG4vLyAgICAgICB9XG4vLyAgICAgfSk7XG4vLyAgIH0pO1xuLy9cbi8vICAgJChcIi5zY3JvbGxhYmxlLWNvbHVtbl9jbGllbnRzLWFzaWRlXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSkge1xuLy8gICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4vLyAgIH0pO1xuLy8gfSkoKTtcblxuXG5cbiJdfQ==
